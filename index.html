<html>
    <head>
        <script type="module" src="./wawa-grid.js"></script>
        <script type="module" src="./observer-element.js"></script>
        <script>
            setTimeout(() => {
                document.getElementById("wawaGrid").fetchData = async (pageNumber, pageSize) => {
                    await new Promise((resolve, reject) => {
                        setTimeout(() => {
                            resolve();
                        }, 200);
                    });
                    let items = [];
                    for(let i = 0; i < pageSize; i++) {
                        items.push({name: "CRAP " + (pageNumber * pageSize + i)});
                        if(i == 5) {
                            setTimeout(() => {
                                items[5].name = "NOOOOOO";
                            }, 6000);
                        }
                    }

                    return items;
                }
            }, 2000);
        </script>
        <style>
            wawa-grid::part(yoyo-row) {
                background-color:green;
                width: 1200px;
            }
        </style>
    </head>
    <body>
        <wawa-grid id="wawaGrid" monitor="true" pageSize="2000">
            <template is="header-template">
                <tr>
                    <th>Name</th>
                    <th>Crap</th>
                </tr>
            </template>
            <template is="row-template">
                <style>

                    #wawa {
                        background-color: pink;
                    }
                </style>
                <tr style="color:white;background-color:${index % 2 === 0 ? 'red' : 'blue'};">
                    <td @click="${item.wawa}">
                        <h1>${item}</h1><h2>${item.name}</h2>
                    </td>
                    <td id="wawa" class="crap" part="wawa-cell" style="background-color:yellow;">
                        <h1>${index} <wawa-row exportparts="yoyo-row" .yoyo=${item}></wawa-row></h1>
                    </td>
                </tr>
            </template>
            <template is="loading-template">
                <div style='position:relative;bottom: 0px;width:100%;text-align:center;font-style:italic;color:#757575;'>WAWA...</div>
            </template>
        </wawa-grid>
    </body>
</html>